"use strict";(self.webpackChunknew_infra_labs_docs=self.webpackChunknew_infra_labs_docs||[]).push([[2971],{8366:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>t,default:()=>o,frontMatter:()=>c,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"architecture/iaas","title":"Infra Labs IaaS \u67b6\u69cb","description":"TODO:","source":"@site/docs/architecture/iaas.md","sourceDirName":"architecture","slug":"/architecture/iaas","permalink":"/docs/architecture/iaas","draft":false,"unlisted":false,"editUrl":"https://github.com/cloud-native-taiwan/Infra-Labs-Docs/tree/main/docs/architecture/iaas.md","tags":[],"version":"current","frontMatter":{},"sidebar":"architecture","previous":{"title":"Infra Labs \u7db2\u8def\u67b6\u69cb","permalink":"/docs/architecture/network"},"next":{"title":"Admin \u5c08\u5340","permalink":"/docs/category/admin-\u5c08\u5340"}}');var i=s(4848),r=s(8453);const c={},t="Infra Labs IaaS \u67b6\u69cb",a={},h=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"\u786c\u9ad4",id:"\u786c\u9ad4",level:2},{value:"\u8edf\u9ad4",id:"\u8edf\u9ad4",level:2},{value:"\u4e3b\u6a5f\u4efb\u52d9\u5206\u914d",id:"\u4e3b\u6a5f\u4efb\u52d9\u5206\u914d",level:3},{value:"Ansible",id:"ansible",level:3},{value:"OpenStack",id:"openstack",level:3},{value:"Ceph",id:"ceph",level:3}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",p:"p",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"infra-labs-iaas-\u67b6\u69cb",children:"Infra Labs IaaS \u67b6\u69cb"})}),"\n",(0,i.jsx)(e.p,{children:"TODO:"}),"\n",(0,i.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","\u52a0\u4e0a\u4e00\u4e9b\u6bd4\u8f03\u7279\u6b8a\u8a2d\u5b9a\u7684\u4ecb\u7d39"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u524d\u8a00",children:"\u524d\u8a00"}),"\n",(0,i.jsx)(e.p,{children:"\u76ee\u524d Infra Labs \u900f\u904e OpenStack \u548c Ceph \u4f86\u63d0\u4f9b Infrastructure as a Service (IaaS) \u670d\u52d9\u3002\u672c\u7bc7\u6703\u4ecb\u7d39\u4f7f\u7528\u7684 OpenStack \u5c08\u6848\u4ee5\u53ca Ceph \u7684\u67b6\u69cb\u3002"}),"\n",(0,i.jsxs)(e.p,{children:["\u8a2d\u5b9a\u6a94\u4ee5\u53ca\u4e00\u4e9b Ansible Script \u5c07\u516c\u958b\u65bc ",(0,i.jsx)(e.a,{href:"https://github.com/cloud-native-taiwan/Infra-Labs-Config",children:"Infra-Labs-Config repository"}),"\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"\u786c\u9ad4",children:"\u786c\u9ad4"}),"\n",(0,i.jsx)(e.p,{children:"Infra Labs \u4f7f\u7528\u4e86 9 \u53f0\u4f3a\u670d\u5668\u7528\u65bc\u63d0\u4f9b IaaS \u670d\u52d9\uff0c\u898f\u683c\u5982\u4e0b\uff1a"}),"\n",(0,i.jsxs)(e.p,{children:["Hostname: ",(0,i.jsx)(e.code,{children:"openstack01-03"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"CPU: Intel Xeon Gold 6230R * 2"}),"\n",(0,i.jsx)(e.li,{children:"RAM: 32GB DDR4 2933Mhz ECC RDIMM * 12"}),"\n",(0,i.jsxs)(e.li,{children:["NIC:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"on board quad port 1G"}),"\n",(0,i.jsx)(e.li,{children:"Mellanox ConnectX-4 100GbE"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Disk","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Boot Disk: Intel 730 240GB * 2 or Sandisk CloudSpeed Eco Gen II 480GB * 2"}),"\n",(0,i.jsx)(e.li,{children:"Ceph SSD: Samsung NGSFF PM983 3.84TB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["Hostname: ",(0,i.jsx)(e.code,{children:"openstack04-05"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"CPU: AMD Epyc 7413"}),"\n",(0,i.jsx)(e.li,{children:"RAM: 32GB DDR4 3200Mhz ECC RDIMM * 8"}),"\n",(0,i.jsxs)(e.li,{children:["NIC:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"on board quad port 1G"}),"\n",(0,i.jsx)(e.li,{children:"Mellanox ConnectX-4 Lx Dual Port 25GbE"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Disk","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Boot Disk: Seagate Enterprise Performance 15K 900GB * 2"}),"\n",(0,i.jsx)(e.li,{children:"Ceph SSD: Samsung 980 1TB * 4"}),"\n",(0,i.jsx)(e.li,{children:"Ceph HDD: Seagate X18 16TB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["Hostname: ",(0,i.jsx)(e.code,{children:"openstack06"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"CPU: Xeon Silver 4110"}),"\n",(0,i.jsx)(e.li,{children:"RAM: 32GB DDR4 2666Mhz ECC RDIMM * 6"}),"\n",(0,i.jsxs)(e.li,{children:["NIC:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"on board dual port 1GbE"}),"\n",(0,i.jsx)(e.li,{children:"Mellanox ConnectX-4 Lx Dual Port 25GbE"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Disk","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Boot Disk: Intel S3500 120GB * 2"}),"\n",(0,i.jsx)(e.li,{children:"Ceph HDD: Seagate X18 16TB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["Hostname: ",(0,i.jsx)(e.code,{children:"arm01-03"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"CPU: Ampere eMAG 8180"}),"\n",(0,i.jsx)(e.li,{children:"RAM: 32GB DDR4 2400Mhz ECC RDIMM * 2(arm03 * 4)"}),"\n",(0,i.jsxs)(e.li,{children:["NIC:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"on board dual port 1GbE"}),"\n",(0,i.jsx)(e.li,{children:"Mellanox ConnectX-4 Lx Dual Port 25GbE"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Disk","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Boot Disk: Intel S3500 120GB"}),"\n",(0,i.jsx)(e.li,{children:"Ceph HDD: Seagate X16 16TB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u8edf\u9ad4",children:"\u8edf\u9ad4"}),"\n",(0,i.jsx)(e.h3,{id:"\u4e3b\u6a5f\u4efb\u52d9\u5206\u914d",children:"\u4e3b\u6a5f\u4efb\u52d9\u5206\u914d"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["OpenStack Controller: ",(0,i.jsx)(e.code,{children:"openstack01-03"})]}),"\n",(0,i.jsxs)(e.li,{children:["OpenStack Compute: ",(0,i.jsx)(e.code,{children:"openstack01-05"})]}),"\n",(0,i.jsxs)(e.li,{children:["Ceph Controller: ",(0,i.jsx)(e.code,{children:"openstack01-03"})]}),"\n",(0,i.jsx)(e.li,{children:"Ceph OSDs: All nodes"}),"\n",(0,i.jsxs)(e.li,{children:["Monitoring: ",(0,i.jsx)(e.code,{children:"openstack06"})]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"ansible",children:"Ansible"}),"\n",(0,i.jsx)(e.p,{children:"Ansible \u88ab\u7528\u4f86\u505a\u4e00\u4e9b OS \u5b89\u88dd\u5f8c\u7684\u8a2d\u5b9a\uff0c\u5982\u5b89\u88dd\u4e00\u4e9b\u5fc5\u8981\u8edf\u9ad4\u3001\u7db2\u5361\u7684\u8a2d\u5b9a\u7b49\u7b49\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"openstack",children:"OpenStack"}),"\n",(0,i.jsx)(e.p,{children:"Infra Labs \u6240\u4f7f\u7528\u7684 OpenStack \u670d\u52d9\u6709\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"\u7528\u65bc\u90e8\u5c6c\u4e3b\u6a5f\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/bifrost/latest/",children:"Bifrost"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/kolla/latest/",children:"Kolla"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/kolla-ansible/latest/",children:"Kolla-Ansible"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/diskimage-builder/latest/",children:"Diskimage-builder"})}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u7528\u65bc\u63d0\u4f9b\u670d\u52d9\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/nova/latest/",children:"Nova"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/neutron/latest/",children:"Neutron"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/keystone/latest/",children:"Keystone"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/glance/latest/",children:"Glance"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/heat/latest/",children:"Heat"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/cinder/latest/",children:"Cinder"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/swift/latest/",children:"Swift"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/designate/latest/",children:"Designate"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/octavia/latest/",children:"Octavia"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/placement/latest/",children:"Placement"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.openstack.org/horizon/latest/",children:"Horizon"})}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u5176\u4ed6 OpenStack \u6240\u9700\u5143\u4ef6\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://mariadb.org/",children:"MariaDB"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://www.rabbitmq.com/",children:"RabbitMQ"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/acassen/keepalived",children:"Keepalived"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"http://www.haproxy.org/",children:"HAProxy"})}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["\u8a73\u7d30\u8a2d\u5b9a\u6a94\u7686\u516c\u958b\u81f3",(0,i.jsx)(e.a,{href:"https://github.com/cloud-native-taiwan/Infra-Labs-Config",children:"\u6b64 Repo"}),"\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"ceph",children:"Ceph"}),"\n",(0,i.jsxs)(e.p,{children:["Ceph \u4f7f\u7528 ",(0,i.jsx)(e.a,{href:"https://docs.ceph.com/en/latest/cephadm/index.html",children:"Cephadm"})," \u90e8\u5c6c\uff0c\u5f8c\u7aef\u7db2\u8def\u4f7f\u7528 100G/25G \u7db2\u5361\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u63d0\u4f9b\u7684\u670d\u52d9\u6709\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["RBD","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u63d0\u4f9b\u7d66 Nova, Cinder, Glance \u4f5c\u70ba\u5132\u5b58\u5f8c\u7aef\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["RGW","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u63d0\u4f9b\u7d66 Swift \u4f5c\u70ba\u5132\u5b58\u5f8c\u7aef\uff0c\u4e26\u4e14\u900f\u904e Keystone \u8a8d\u8b49\u63d0\u4f9b S3 Compatible API\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u76ee\u524d Crush Rule \u5206\u70ba\u5169\u7a2e\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["replicated_nvme","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4f7f\u7528 NVMe SSD \u4f5c\u70ba\u5132\u5b58\u5a92\u4ecb"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["replicated_sata_ssd","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4f7f\u7528 SATA SSD \u4f5c\u70ba\u5132\u5b58\u5a92\u4ecb"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["erasure profile main","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"4+2 Erasure Coding \u4f5c\u70ba S3 \u5132\u5b58\u6c60"}),"\n"]}),"\n"]}),"\n"]})]})}function o(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>c,x:()=>t});var l=s(6540);const i={},r=l.createContext(i);function c(n){const e=l.useContext(r);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);